<contract archiveOpt="P3M" archiveReq="P1M" canActAsTemplate="true" duration="P2Y" id="Microloan" visibility="Public" xmlns="urn:nf:iot:leg:sc:1.0">
	<Create xmlns="https://paiwise.tagroot.io/Schema/NeuroFeatures.xsd">
		<TokenID>
			<Random />
		</TokenID>
		<Creator>
			<RoleReference role="Creator"/>
		</Creator>
		<Owner>
			<RoleReference role="Lender"/>
		</Owner>
		<Certifier>
			<RoleReference role="Borrower"/>
		</Certifier>
		<TrustProvider>
			<RoleReference role="TrustProvider"/>
		</TrustProvider>
		<Value>
			<ParameterReference parameter="Amount"/>
		</Value>
		<Currency>
			<ParameterReference parameter="Currency"/>
		</Currency>
		<CommissionPercent>
			<ParameterReference parameter="CommissionPercent"/>
		</CommissionPercent>
		<Expires>
			<ParameterReference parameter="Expires"/>
		</Expires>
		<CreatorCanDestroy>
			<Boolean>false</Boolean>
		</CreatorCanDestroy>
		<OwnerCanDestroyBatch>
			<Boolean>false</Boolean>
		</OwnerCanDestroyBatch>
		<OwnerCanDestroyIndividual>
			<Boolean>true</Boolean>
		</OwnerCanDestroyIndividual>
		<CertifierCanDestroy>
			<Boolean>false</Boolean>
		</CertifierCanDestroy>
		<Definition>
			<StateMachine startState="Setup" xmlns="https://paiwise.tagroot.io/Schema/StateMachines.xsd">
				<Variable id="Amount">
					<TagReference tag="Amount"/>
				</Variable>
				<Variable id="Debt">
					<TagReference tag="Amount"/>
				</Variable>
				<Variable id="InterestPerInstallment">
					<TagReference tag="InterestPerInstallment"/>
				</Variable>
				<Variable id="Cost">
					<TagReference tag="Cost"/>
				</Variable>
				<Variable id="Currency">
					<TagReference tag="Currency"/>
				</Variable>
				<Variable id="DebtLimit">
					<TagReference tag="DebtLimit"/>
				</Variable>
				<Variable id="InstallmentInterval">
					<TagReference tag="InstallmentInterval"/>
				</Variable>
				<Variable id="InstallmentAmount">
					<TagReference tag="InstallmentAmount"/>
				</Variable>
				<Variable id="Creator">
					<TagReference tag="Creator"/>
				</Variable>
				<Variable id="CreatorPnr">
					<TagReference tag="CreatorPnr"/>
				</Variable>
				<Variable id="CreatorName">
					<TagReference tag="CreatorName"/>
				</Variable>
				<Variable id="CreatorAddress">
					<TagReference tag="CreatorAddress"/>
				</Variable>
				<Variable id="CreatorCountry">
					<TagReference tag="CreatorCountry"/>
				</Variable>
				<Variable id="Lender">
					<TagReference tag="Lender"/>
				</Variable>
				<Variable id="LenderPnr">
					<TagReference tag="LenderPnr"/>
				</Variable>
				<Variable id="LenderName">
					<TagReference tag="LenderName"/>
				</Variable>
				<Variable id="LenderAddress">
					<TagReference tag="LenderAddress"/>
				</Variable>
				<Variable id="LenderCountry">
					<TagReference tag="LenderCountry"/>
				</Variable>
				<Variable id="Borrower">
					<TagReference tag="Borrower"/>
				</Variable>
				<Variable id="BorrowerPnr">
					<TagReference tag="BorrowerPnr"/>
				</Variable>
				<Variable id="BorrowerName">
					<TagReference tag="BorrowerName"/>
				</Variable>
				<Variable id="BorrowerAddress">
					<TagReference tag="BorrowerAddress"/>
				</Variable>
				<Variable id="BorrowerCountry">
					<TagReference tag="BorrowerCountry"/>
				</Variable>
				<Variable id="LoanAgreement">
					<TokenProperty>CreationContract</TokenProperty>
				</Variable>
				<Variable id="NrFailedPayments">
					<Number>0</Number>
				</Variable>
				<Variable id="CommissionPercent">
					<TagReference tag="CommissionPercent"/>
				</Variable>
				<State id="Setup">
					<OnEnter actionRef="InitialPayments"/>
					<OnEvent actionRef="PayInstallment" newState="Paying">
						<OnDuration>{InstallmentInterval}</OnDuration>
					</OnEvent>
				</State>
				<State id="Paying">
					<OnEvent newState="Paid">
						<OnCondition>
						Debt&lt;=0
						</OnCondition>
					</OnEvent>
					<OnEvent actionRef="PayInstallment">
						<OnDuration>{InstallmentInterval}</OnDuration>
					</OnEvent>
				</State>
				<State id="Paid">
					<OnEnter actionRef="Done"/>
				</State>
				<Action id="InitialPayments">
					<LogEvent message="Starting." type="Debug"/>
					<LogEvent message="Paying loan amount, from Lender to Borrower." type="Debug"/>
					<Payment>
						<From value="{Lender}"/>
						<To value="{Borrower}"/>
						<Amount value="{Amount}"/>
						<Currency value="{Currency}"/>
						<ValidDays value="3"/>
						<Reference value="{'iotsc:'+LoanAgreement}"/>
						<Contract value="{LoanAgreement}"/>
					</Payment>
					<TextNote>
						<Content>
							<Calc>
							'Loan amount paid by lender to borrower: '+
								Amount+' '+Currency+
								'. Debt: '+Debt+' '+Currency+'.'
							</Calc>
						</Content>
					</TextNote>
					<LogEvent message="Borrower reimbursing creator." type="Debug"/>
					<Payment>
						<From value="{Borrower}"/>
						<To value="{Creator}"/>
						<Amount value="{Cost}"/>
						<Currency value="{Currency}"/>
						<ValidDays value="3"/>
						<Reference value="{'iotsc:'+LoanAgreement}"/>
						<Contract value="{LoanAgreement}"/>
					</Payment>
					<TextNote content="{'Cost reimbursement paid to creator: '+Cost+' '+Currency+'.'}"/>
				</Action>
				<Action id="PayInstallment">
					<If condition="Debt&lt;DebtLimit">
						<Then>
							<LogEvent message="Adding interest." type="Debug"/>
							<PersistVariable name="Debt">
								<Value>
									<Calc>
									Debt:=Min(Debt*(100+InterestPerInstallment)/100,DebtLimit);
									round(Debt*100)*0.01
									</Calc>
								</Value>
							</PersistVariable>
							<TextNote content="{'Interest added. Debt: '+Debt+' '+Currency+'.'}"/>
							<LogEvent message="{'Current debt: '+Debt}" type="Debug"/>
						</Then>
					</If>
					<Script>
					Installment:=Min(Debt,InstallmentAmount);
					Installment+=round(Debt*100)*0.01-Debt
					</Script>
					<If condition="Installment&gt;0">
						<Then>
							<Try>
								<LogEvent message="Paying installment." type="Debug"/>
								<Payment>
									<From value="{Borrower}"/>
									<To value="{Lender}"/>
									<Amount value="{Installment}"/>
									<Currency value="{Currency}"/>
									<ValidDays value="3"/>
									<Reference value="{'iotsc:'+LoanAgreement}"/>
									<Contract value="{LoanAgreement}"/>
								</Payment>
								<PersistVariable name="Debt">
									<Value>
										<Calc>
										Debt-=Installment;
										round(Debt*100)*0.01
										</Calc>
									</Value>
								</PersistVariable>
								<TextNote content="{'Installment paid. Debt: '+Debt+' '+Currency+'.'}"/>
								<LogEvent message="{'Current debt: '+Debt}" type="Debug"/>
								<Catch exceptionVariable="ex">
									<PersistVariable name="NrFailedPayments" value="{NrFailedPayments+1}"/>
									<TextNote content="{ex.Message}"/>
									<LogEvent message="{ex.Message}" type="Critical"/>
								</Catch>
							</Try>
						</Then>
						<Else>
							<CallAction actionRef="Done"/>
						</Else>
					</If>
				</Action>
				<Action id="Done">
					<TextNote content="Microloan completed."/>
					<LogEvent message="Completed." type="Debug"/>
					<End />
				</Action>
				<ReportPresent>
| Variable             | Value                              |
|----------------------|------------------------------------|
| Amount               | {{Amount}} {{Currency}}            |
| Debt                 | {{Debt}} {{Currency}}              |
| Installment Interval | {{InstallmentInterval}}            |
| Interest/Installment | {{InterestPerInstallment}}\%       |
| DebtLimit            | {{DebtLimit}} {{Currency}}         |
| Installment Amount   | {{InstallmentAmount}} {{Currency}} |
| Commission           | {{CommissionPercent}}\%            |
| Cost                 | {{Cost}} {{Currency}}              |
| Lender               | {{LenderName}}                     |
|                      | {{LenderPnr}}                      |
|                      | {{LenderAddress}}                  |
|                      | {{LenderCountry}}                  |
|                      | {{Lender}}                         |
| Borrower             | {{BorrowerName}}                   |
|                      | {{BorrowerPnr}}                    |
|                      | {{BorrowerAddress}}                |
|                      | {{BorrowerCountry}}                |
|                      | {{Borrower}}                       |
| Creator              | {{CreatorName}}                    |
|                      | {{CreatorPnr}}                     |
|                      | {{CreatorAddress}}                 |
|                      | {{CreatorCountry}}                 |
|                      | {{Creator}}                        |
| LoanAgreement        | {{LoanAgreement}}                  |
| NrFailedPayments     | {{NrFailedPayments}}               |
				</ReportPresent>
				<ReportHistory>
{{
G:=plot2dline(Amount.Timestamp, Amount.Value, "Red")+
plot2dline(Debt.Timestamp, Debt.Value, "Blue");

G.Title:="Debt over time";
G.LabelX:="Time";
G.LabelY:="Debt";
G
}}
				</ReportHistory>
			</StateMachine>
		</Definition>
		<Tag name="Amount">
			<ParameterReference parameter="Amount"/>
		</Tag>
		<Tag name="Cost">
			<ParameterReference parameter="Cost"/>
		</Tag>
		<Tag name="DebtLimit">
			<ParameterReference parameter="DebtLimit"/>
		</Tag>
		<Tag name="InstallmentInterval">
			<ParameterReference parameter="InstallmentInterval"/>
		</Tag>
		<Tag name="InstallmentAmount">
			<ParameterReference parameter="InstallmentAmount"/>
		</Tag>
		<Tag name="Currency">
			<ParameterReference parameter="Currency"/>
		</Tag>
		<Tag name="InterestPerInstallment">
			<ParameterReference parameter="InterestPerInstallment"/>
		</Tag>
		<Tag name="Creator">
			<RoleReference role="Creator"/>
		</Tag>
		<Tag name="CreatorPnr">
			<ParameterReference parameter="CreatorPnr"/>
		</Tag>
		<Tag name="CreatorName">
			<ParameterReference parameter="CreatorName"/>
		</Tag>
		<Tag name="CreatorAddress">
			<ParameterReference parameter="CreatorAddress"/>
		</Tag>
		<Tag name="CreatorCountry">
			<ParameterReference parameter="CreatorCountry"/>
		</Tag>
		<Tag name="Lender">
			<RoleReference role="Lender"/>
		</Tag>
		<Tag name="LenderPnr">
			<ParameterReference parameter="LenderPnr"/>
		</Tag>
		<Tag name="LenderName">
			<ParameterReference parameter="LenderName"/>
		</Tag>
		<Tag name="LenderAddress">
			<ParameterReference parameter="LenderAddress"/>
		</Tag>
		<Tag name="LenderCountry">
			<ParameterReference parameter="LenderCountry"/>
		</Tag>
		<Tag name="Borrower">
			<RoleReference role="Borrower"/>
		</Tag>
		<Tag name="BorrowerPnr">
			<ParameterReference parameter="BorrowerPnr"/>
		</Tag>
		<Tag name="BorrowerName">
			<ParameterReference parameter="BorrowerName"/>
		</Tag>
		<Tag name="BorrowerAddress">
			<ParameterReference parameter="BorrowerAddress"/>
		</Tag>
		<Tag name="BorrowerCountry">
			<ParameterReference parameter="BorrowerCountry"/>
		</Tag>
		<Tag name="CommissionPercent">
			<ParameterReference parameter="CommissionPercent"/>
		</Tag>
		<FriendlyName>
			<String>Microloan</String>
		</FriendlyName>
		<Category>
			<String>Example</String>
		</Category>
		<Description>
			<String>Example token used to demonstrate how to model a *micro-loan* using a *state machine*. The *borrower* borrows a
small amount of money from a *lender*, and returns the amount in automaticly performed installments, in accordance with parameters set
into the token.</String>
		</Description>
		<Glyph contentType="image/png">iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAABFFJREFUeJztWU1IMlsYfrqTFmgLIb5yEURlLQo3YVZUCi1qFUFQUKt2QURWm7IgIkhqJ9IP1EIIWkWuIugPLIh0GVFUBC5SocCkEM2/uYvv3oPDNNM43Thwv3lgYM77d57zeI7nzEwBy7Is/mD8RZsAbSgC0CZAG4oAtAnQhiIAbQK0oQhAmwBtKALQJkAbigC0CdCGIgBtArShCECbAG0oAtAmQBuKALQJ0EahkCMYDGJpaQklJSV5F43H4+jr60NHRwfPNz8/j3g8jmw2i5qaGoyMjORdHwBSqRScTicODg5wfX2N19dXqNVqVFRUoLGxET09Pejv7/+6ECsAn8/HApB9LS4u8mo+PT3x4vJFJpNh29vbJfPY2dkRrSe4BL77uSCTyfBs4+PjPNvCwoLkmqenp2AYBufn55JzHh8fRf0FQh9G3t7ecHx8jOLiYo69tLQUZrOZtLe3t/Hr1y+k02liSyaTMBqNqKqq4nZWUAAA0Gg0iMVixC5FbK/XC6vVyrE1Nzdjbm4O3d3dYBiG2O/v77G7u4vZ2VlMT0/D4XAIF857Dv5mS65oNCopx+FwkBy73c5arVbS3t/fz6tPAOzt7a2kfgOBgHhdSVVEyITD4bxzYrEYe3R0RNoGg0E0d2BggJOfTCbl0P6cl6ykPAXIHWx1dfWndV5eXiT153K55FAWri0rKU8BGhoaSLzH4yF2u91O7ENDQ5/mer3eb+0aX+HHBYhGo6ID+GpwKysrxF9fXy+Hrih+/CRos9nI/dTUFM+fe1hyOp08fygUIvcGg0Fyv3V1dWhtbYXJZBIPlKMa8pgBubHpdJrn9/v9xM8wDM9vs9mIv7e3VxZHMfzoDFhdXSX3FouFs1f/C5PJBI1GA+D34eni4oLjLysrI/eBQOA/5yh4EBJN+udAAwDhcBjl5eWfxhUVFSGZTAIAlpeX0dbWhkQiwYnRarXY2trC5uYmAKCpqQk+n4/4Dw8P0dXVRdpS6eZyFM2RPKcEppfQEri8vJT9HPHx8SHY397eXt4cReOkDVm4uJAALS0tsgUYHR3l1LJYLHlvhVLjf2QJpNNpqFQq0na73UilUoJTkWEYPD8/Y2ZmhthyY6PRKHQ6HWmr1WrEYjEUFgo+zdNdAmNjY8RvNpsl19VqtSTP7XZzfGtra7yZMjg4yPr9fl4dj8dDdwnk+s/OziTXXV9fJ3k6nY7ndzqdspaU6Fgks8tNyikeDAY5PpfL9a2ja27uZ79uKBRia2trJQ++srJStD/hRSSCiYkJqFQqvL+/816ZJRIJTE5OIpvNcrYvqXC73bi6ukI2m8XDwwPvJKfX63F3d4dIJIKNjQ2cnJzg5uYGkUgEDMNAr9fDaDSis7MTw8PD5IwhBFl/gv8n/PFvhRUBaBOgDUUA2gRoQxGANgHaUASgTYA2FAFoE6ANRQDaBGhDEYA2AdpQBKBNgDYUAWgToA1FANoEaONve9o8PVvYS2AAAAAASUVORK5CYII=</Glyph>
	</Create>
	<role maxCount="1" minCount="1" name="Creator">
		<description xml:lang="en">
			<paragraph>
				<text>The part that creates the </text>
				<italic>
					<text>microloan</text>
				</italic>
				<text> arrangement, including the </text>
				<italic>
					<text>microloan</text>
				</italic>
				<text> token and the corresponding state-machine that executes the </text>
				<italic>
					<text>microloan</text>
				</italic>
				<text>.</text>
			</paragraph>
		</description>
		<description xml:lang="es">
			<paragraph>
				<text>La parte que crea el acuerdo de </text>
				<italic>
					<text>micropréstamo</text>
				</italic>
				<text>, incluido el token de </text>
				<italic>
					<text>micropréstamo</text>
				</italic>
				<text> y la máquina de estados correspondiente que ejecuta el </text>
				<italic>
					<text>micropréstamo</text>
				</italic>
				<text>.</text>
			</paragraph>
		</description>
	</role>
	<role maxCount="1" minCount="1" name="Lender">
		<description xml:lang="en">
			<paragraph>
				<text>The part that lends money to the </text>
				<bold>
					<text>Borrower</text>
				</bold>
				<text>.</text>
			</paragraph>
		</description>
		<description xml:lang="es">
			<paragraph>
				<text>El </text>
				<bold>
					<text>prestamista</text>
				</bold>
				<text> que presta dinero al </text>
				<bold>
					<text>prestatario</text>
				</bold>
				<text>.</text>
			</paragraph>
		</description>
	</role>
	<role maxCount="1" minCount="1" name="Borrower">
		<description xml:lang="en">
			<paragraph>
				<text>The part that borrows money from the </text>
				<bold>
					<text>Lender</text>
				</bold>
				<text>.</text>
			</paragraph>
		</description>
		<description xml:lang="es">
			<paragraph>
				<text>El </text>
				<bold>
					<text>prestatario</text>
				</bold>
				<text> que toma prestado dinero del </text>
				<bold>
					<text>prestamista</text>
				</bold>
				<text>.</text>
			</paragraph>
		</description>
	</role>
	<role maxCount="1" minCount="1" name="TrustProvider">
		<description xml:lang="en">
			<paragraph>
				<text>The part that acts as a host of the token and approves its creation.</text>
			</paragraph>
		</description>
		<description xml:lang="es">
			<paragraph>
				<text>La parte que actúa como anfitrión del token y aprueba su creación.</text>
			</paragraph>
		</description>
	</role>
	<parts>
		<templateOnly />
	</parts>
	<parameters>
		<numericalParameter guide="Loan Amount" min="0" minIncluded="false" name="Amount">
			<description xml:lang="en">
				<paragraph>
					<text>The amount of money borrowed by the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> of the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La cantidad de dinero que el </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> pidió prestada al </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<stringParameter guide="Currency" maxLength="3" minLength="3" name="Currency" regEx="[A-Z]{3}">
			<description xml:lang="en">
				<paragraph>
					<text>The currency of the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La moneda del </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text>.</text>
				</paragraph>
			</description>
		</stringParameter>
		<durationParameter guide="P[nY][nM][nD][T[nH][nM][nS]]" min="PT0S" minIncluded="false" name="InstallmentInterval">
			<description xml:lang="en">
				<paragraph>
					<text>The interval with which installments are paid and interest calculated.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El intervalo con el que se pagan las cuotas y se calculan los intereses.</text>
				</paragraph>
			</description>
		</durationParameter>
		<numericalParameter guide="Interest per Installment (%)" min="0" minIncluded="false" name="InterestPerInstallment">
			<description xml:lang="en">
				<paragraph>
					<text>The interest on the remaining amount of the loan, added every installment interval. Every time the installment interval elapses, the remaining amount on the loan will be incremented by this number of percent.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El interés sobre el monto restante del préstamo, se suma en cada intervalo de cuota. Cada vez que transcurra el intervalo de cuota, el monto restante del préstamo se incrementará en este porcentaje.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<numericalParameter exp="DebtLimit&gt;Amount" guide="Maximum Debt" name="DebtLimit">
			<description xml:lang="en">
				<paragraph>
					<text>The accumulated debt, in case of missing payments, cannot exceed this value.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La deuda acumulada, en caso de pagos atrasados, no puede superar este valor.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<numericalParameter exp="InstallmentAmount&gt;InterestPerInstallment*DebtLimit/100" guide="Installment Amount" min="0" minIncluded="false" name="InstallmentAmount">
			<description xml:lang="en">
				<paragraph>
					<text>Amount paid by the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> to the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> each installment.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>Cantidad pagada por el </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> al </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text> en cada cuota.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<numericalParameter guide="Commision (%)" max="100" maxIncluded="true" min="0" minIncluded="true" name="CommissionPercent">
			<description xml:lang="en">
				<paragraph>
					<text>The commission the Trust Provider gets for creating the token and managing the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text>. First paid by the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text> when creating the token, and then reimbursed by the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> to the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La comisión que recibe el Proveedor de Confianza por crear el token y gestionar el </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text>. Primero pagada por el </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text> al crear el token, y luego reembolsada por el </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> al </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<calcParameter exp="Amount*CommissionPercent/100" name="Cost">
			<description>
				<paragraph>
					<text>The cost of creating the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> will be paid by the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> to the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El costo de creación del </text>
					<italic>
						<text>microcrédito</text>
					</italic>
					<text> será pagado por el </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> al </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="Debt:=Amount;p:=1+InterestPerInstallment/100;N:=0;S:=0;while Debt&gt;0 do (Debt*=p;I:=Min(Debt,InstallmentAmount);I+=round(Debt*100)*0.01-Debt;I:=max(0,I);Debt-=I;Debt:=round(Debt*100)*0.01;S+=I;N++ &gt; 365 ? Error('Cannot be over a year.'));round((S-Amount)*100)*0.01" name="RoI">
			<description xml:lang="en">
				<paragraph>
					<text>The estimated </text>
					<italic>
						<text>Return on Investment</text>
					</italic>
					<text> for the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text>, if payments are made regularly according to the agreement.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La </text>
					<italic>
						<text>Tasa de Retorno de la Inversión</text>
					</italic>
					<text> estimada para el </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>, si los pagos se realizan regularmente según lo acordado.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="N" name="NrInstallments">
			<description>
				<paragraph>
					<text>Number of installments the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> will be active, if payments are made regularly according to the agreement.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>Número de plazos durante los cuales el </text>
					<italic>
						<text>microcrédito</text>
					</italic>
					<text> estará activo, si los pagos se realizan regularmente según el acuerdo.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="NowUtc+InstallmentInterval*NrInstallments" name="EstimatedCompletion">
			<description xml:lang="en">
				<paragraph>
					<text>When the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> is paid back in full, if payments are made according to schedule.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>Cuando se paga el </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text> en su totalidad, si los pagos se realizan según lo programado.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="NowUtc+Duration('P1D')+InstallmentInterval*Max(NrInstallments,365)" name="Expires">
			<description xml:lang="en">
				<paragraph>
					<text>When the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> token expires, if not resolved before.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>Cuando el token de </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text> expire, si no se resuelve antes.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="CountryName(LenderCountryCode)" name="LenderCountry">
			<description xml:lang="en">
				<paragraph>
					<text>The country in which the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El país en el que reside el </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="CountryName(BorrowerCountryCode)" name="BorrowerCountry">
			<description xml:lang="en">
				<paragraph>
					<text>The country in which the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El país en el que reside el </text>
					<bold>
						<text>prestatario</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</calcParameter>
		<calcParameter exp="CountryName(CreatorCountryCode)" name="CreatorCountry">
			<description xml:lang="en">
				<paragraph>
					<text>The country in which the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El país en el que reside el </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</calcParameter>
		<roleParameter index="1" name="LenderName" property="FULLNAME" role="Lender">
			<description xml:lang="en">
				<paragraph>
					<text>The full name of the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El nombre completo del </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="LenderAddress" property="FULLADDR" role="Lender">
			<description xml:lang="en">
				<paragraph>
					<text>The full address of the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La dirección completa del </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="LenderCountryCode" property="COUNTRY" role="Lender">
			<description xml:lang="en">
				<paragraph>
					<text>The code of the country in which the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El código del país en el que reside el </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="LenderPnr" property="PNR" role="Lender">
			<description xml:lang="en">
				<paragraph>
					<text>The personal identity number of the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El número de identificación personal del </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="BorrowerName" property="FULLNAME" role="Borrower">
			<description xml:lang="en">
				<paragraph>
					<text>The full name of the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El nombre completo del </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="BorrowerAddress" property="FULLADDR" role="Borrower">
			<description xml:lang="en">
				<paragraph>
					<text>The full address of the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La dirección completa del </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="BorrowerCountryCode" property="COUNTRY" role="Borrower">
			<description xml:lang="en">
				<paragraph>
					<text>The code of the country in which the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El código del país en el que reside el </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="BorrowerPnr" property="PNR" role="Borrower">
			<description xml:lang="en">
				<paragraph>
					<text>The personal identity number of the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El número de identidad personal del </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="CreatorName" property="FULLNAME" role="Creator">
			<description xml:lang="en">
				<paragraph>
					<text>The full name of the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El nombre completo del </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="CreatorAddress" property="FULLADDR" role="Creator">
			<description xml:lang="en">
				<paragraph>
					<text>The full address of the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>La dirección completa del </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="CreatorCountryCode" property="COUNTRY" role="Creator">
			<description xml:lang="en">
				<paragraph>
					<text>The code of the country country in which the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El código del país en el que reside el </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="CreatorPnr" property="PNR" role="Creator">
			<description xml:lang="en">
				<paragraph>
					<text>The personal identity number of the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
			<description xml:lang="es">
				<paragraph>
					<text>El número de identificación personal del </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
	</parameters>
	<humanReadableText xml:lang="en">
		<section>
			<header>
				<text>Microloan</text>
			</header>
			<body>
				<paragraph>
					<text>This contract represents a </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> between the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> (</text>
					<parameter name="LenderName"/>
					<text>, </text>
					<parameter name="LenderAddress"/>
					<text>, </text>
					<parameter name="LenderCountry"/>
					<text>, personal identity number </text>
					<parameter name="LenderPnr"/>
					<text>) and the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> (</text>
					<parameter name="BorrowerName"/>
					<text>, </text>
					<parameter name="BorrowerAddress"/>
					<text>, </text>
					<parameter name="BorrowerCountry"/>
					<text>, personal identity number </text>
					<parameter name="BorrowerPnr"/>
					<text>). The contract, once signed, also creates a token representing the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text>. The token will perform automatic payments and maintain information about the current state of the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text>. The token is created by the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text> (</text>
					<parameter name="CreatorName"/>
					<text>, </text>
					<parameter name="CreatorAddress"/>
					<text>, </text>
					<parameter name="CreatorCountry"/>
					<text>, personal identity number </text>
					<parameter name="CreatorPnr"/>
					<text>).</text>
				</paragraph>
				<paragraph>
					<text>The </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> borrows a small amount of money (</text>
					<parameter name="Amount"/>
					<text> </text>
					<parameter name="Currency"/>
					<text>) from the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text>. This has a cost of </text>
					<parameter name="Cost"/>
					<text> </text>
					<parameter name="Currency"/>
					<text>, which the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text> pays as the contract is signed. When the contract is signed, the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> transfers the amount to the </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text>, which immediately reimburses the </text>
					<bold>
						<text>Creator</text>
					</bold>
					<text> for its expenditure for creating the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text>.</text>
				</paragraph>
				<paragraph>
					<text>Every installment (</text>
					<parameter name="InstallmentInterval"/>
					<text>) which this </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> is active, the debt is incremented by </text>
					<parameter name="InterestPerInstallment"/>
					<text>%. The </text>
					<bold>
						<text>Borrower</text>
					</bold>
					<text> also agrees to pay the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> the amount of </text>
					<parameter name="InstallmentAmount"/>
					<text> </text>
					<parameter name="Currency"/>
					<text> each installment. The </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text> is active until the debt is paid in full. This is estimated to occur after </text>
					<parameter name="NrInstallments"/>
					<text> installments at </text>
					<parameter name="EstimatedCompletion"/>
					<text>, if payments are made according to schedule. The estimated </text>
					<italic>
						<text>Return on Investment</text>
					</italic>
					<text> (RoI) for the </text>
					<bold>
						<text>Lender</text>
					</bold>
					<text> is </text>
					<parameter name="RoI"/>
					<text> </text>
					<parameter name="Currency"/>
					<text> at the end of the </text>
					<italic>
						<text>microloan</text>
					</italic>
					<text>.</text>
				</paragraph>
				<section>
					<header>
						<text>Automatic payments</text>
					</header>
					<body>
						<paragraph>
							<text>The parts of this contract agree that all payments defined in the agreement, shall be made automatically, with no more signatures required, than the signatures provided on this agreement.</text>
						</paragraph>
					</body>
				</section>
				<section>
					<header>
						<text>Unability to pay installment amount</text>
					</header>
					<body>
						<paragraph>
							<text>If the </text>
							<bold>
								<text>Borrower</text>
							</bold>
							<text> is unable to pay one or more installments, the debt will be incremented and transferred to the coming installments. The installment interest will be calculated on the accumulated debt. The accumulated debt cannot exceed </text>
							<parameter name="DebtLimit"/>
							<text> </text>
							<parameter name="Currency"/>
							<text> however. The </text>
							<italic>
								<text>microloan</text>
							</italic>
							<text> token counting machine expires at </text>
							<parameter name="Expires"/>
							<text>, after which the </text>
							<italic>
								<text>microloan</text>
							</italic>
							<text> will be transferred for manual processing.</text>
						</paragraph>
					</body>
				</section>
				<section>
					<header>
						<text>Legality</text>
					</header>
					<body>
						<paragraph>
							<text>By signing the contracts, the </text>
							<bold>
								<text>Borrower</text>
							</bold>
							<text> affirms that it is obliged to pay the </text>
							<bold>
								<text>Lender</text>
							</bold>
							<text> all its debt, and incurred interests, until the </text>
							<italic>
								<text>microloan</text>
							</italic>
							<text> has been repaid in full. This agreement is held to be valid under the laws of the country where the </text>
							<bold>
								<text>Lender</text>
							</bold>
							<text> resides, which is </text>
							<bold>
								<parameter name="LenderCountry"/>
							</bold>
							<text>.</text>
						</paragraph>
					</body>
				</section>
				<section>
					<header>
						<text>Transfer of Ownership</text>
					</header>
					<body>
						<paragraph>
							<text>The </text>
							<bold>
								<text>Lender</text>
							</bold>
							<text> may sell the rights of the </text>
							<italic>
								<text>microloan</text>
							</italic>
							<text> to any third party of its choosing. This is done by transferring ownership of the token corresponding to the </text>
							<italic>
								<text>microloan</text>
							</italic>
							<text>. The new owner will take the previous owner’s rights to payments made by the </text>
							<bold>
								<text>Borrower</text>
							</bold>
							<text>. The </text>
							<bold>
								<text>Borrower</text>
							</bold>
							<text> will continue its payments, as defined in this agreement, to the new owner.</text>
						</paragraph>
						<paragraph>
							<text>The token can be transferred any number of times, as long as the token and the corresponding </text>
							<italic>
								<text>microloan</text>
							</italic>
							<text> is active.</text>
						</paragraph>
					</body>
				</section>
			</body>
		</section>
	</humanReadableText>
	<humanReadableText xml:lang="es">
		<section>
			<header>
				<text>Micropréstamo</text>
			</header>
			<body>
				<paragraph>
					<text>Este contrato representa un </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text> entre el </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text> (</text>
					<parameter name="LenderName"/>
					<text>, </text>
					<parameter name="LenderAddress"/>
					<text>, </text>
					<parameter name="LenderCountry"/>
					<text>, número de identificación personal </text>
					<parameter name="LenderPnr"/>
					<text>) y el </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> (</text>
					<parameter name="BorrowerName"/>
					<text>, </text>
					<parameter name="BorrowerAddress"/>
					<text>, </text>
					<parameter name="BorrowerCountry"/>
					<text>, número de identificación personal </text>
					<parameter name="BorrowerPnr"/>
					<text>). Una vez firmado el contrato, también crea un token que representa el </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text>. El token realizará pagos automáticos y mantendrá información sobre el estado actual del </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text>. El token es creado por el </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text> (</text>
					<parameter name="CreatorName"/>
					<text>, </text>
					<parameter name="CreatorAddress"/>
					<text>, </text>
					<parameter name="CreatorCountry"/>
					<text>, número de identificación personal </text>
					<parameter name="CreatorPnr"/>
					<text>).</text>
				</paragraph>
				<paragraph>
					<text>El </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> toma prestada una pequeña cantidad de dinero (</text>
					<parameter name="Amount"/>
					<text> </text>
					<parameter name="Currency"/>
					<text>) del </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text>. Esto tiene un costo de </text>
					<parameter name="Cost"/>
					<text> </text>
					<parameter name="Currency"/>
					<text>, que el </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text> paga al firmar el contrato. Cuando se firma el contrato, el </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text> transfiere la cantidad al </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text>, que inmediatamente reembolsa al </text>
					<bold>
						<text>Creador</text>
					</bold>
					<text> por su gasto al crear el </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text>.</text>
				</paragraph>
				<paragraph>
					<text>Cada cuota (</text>
					<parameter name="InstallmentAmount"/>
					<text>) que el </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text> esté activo, la deuda se incrementa en </text>
					<parameter name="InterestPerInstallment"/>
					<text>%. El </text>
					<bold>
						<text>Prestatario</text>
					</bold>
					<text> también se compromete a pagar al </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text> la cantidad de </text>
					<parameter name="InstallmentAmount"/>
					<text> </text>
					<parameter name="Currency"/>
					<text> en cada cuota. El </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text> estará activo hasta que la deuda sea pagada en su totalidad. Se estima que esto ocurrirá después de </text>
					<parameter name="NrInstallments"/>
					<text> cuotas en </text>
					<parameter name="EstimatedCompletion"/>
					<text>, si los pagos se realizan según lo programado. El </text>
					<italic>
						<text>Retorno de la Inversión</text>
					</italic>
					<text> estimado (RoI) para el </text>
					<bold>
						<text>Prestamista</text>
					</bold>
					<text> es de </text>
					<parameter name="RoI"/>
					<text> </text>
					<parameter name="Currency"/>
					<text> al final del </text>
					<italic>
						<text>micropréstamo</text>
					</italic>
					<text>.</text>
				</paragraph>
				<section>
					<header>
						<text>Pagos automáticos</text>
					</header>
					<body>
						<paragraph>
							<text>Las partes de este contrato acuerdan que todos los pagos definidos en el acuerdo se realizarán automáticamente, sin necesidad de más firmas que las proporcionadas en este contrato.</text>
						</paragraph>
					</body>
				</section>
				<section>
					<header>
						<text>Incapacidad para pagar la cantidad de la cuota</text>
					</header>
					<body>
						<paragraph>
							<text>Si el </text>
							<bold>
								<text>Prestatario</text>
							</bold>
							<text> no puede pagar una o más cuotas, la deuda se incrementará y se transferirá a las cuotas siguientes. El interés de la cuota se calculará sobre la deuda acumulada. Sin embargo, la deuda acumulada no puede exceder </text>
							<parameter name="DebtLimit"/>
							<text> </text>
							<parameter name="Currency"/>
							<text>. La máquina contador del token del </text>
							<italic>
								<text>micropréstamo</text>
							</italic>
							<text> expira en </text>
							<parameter name="Expires"/>
							<text>, después de lo cual el </text>
							<italic>
								<text>micropréstamo</text>
							</italic>
							<text> se transferirá para ser procesado manualmente.</text>
						</paragraph>
					</body>
				</section>
				<section>
					<header>
						<text>Legalidad</text>
					</header>
					<body>
						<paragraph>
							<text>Al firmar los contratos, el </text>
							<bold>
								<text>Prestatario</text>
							</bold>
							<text> afirma que está obligado a pagar al </text>
							<bold>
								<text>Prestamista</text>
							</bold>
							<text> toda su deuda e intereses incurridos, hasta que el </text>
							<italic>
								<text>micropréstamo</text>
							</italic>
							<text> haya sido reembolsado en su totalidad. Este acuerdo se considera válido bajo las leyes del país donde reside el </text>
							<bold>
								<text>Prestamista</text>
							</bold>
							<text>, que es </text>
							<bold>
								<parameter name="LenderCountry"/>
							</bold>
							<text>.</text>
						</paragraph>
					</body>
				</section>
				<section>
					<header>
						<text>Transferencia de Propiedad</text>
					</header>
					<body>
						<paragraph>
							<text>El </text>
							<bold>
								<text>Prestamista</text>
							</bold>
							<text> puede vender los derechos del </text>
							<italic>
								<text>micropréstamo</text>
							</italic>
							<text> a cualquier tercero de su elección. Esto se hace transfiriendo la propiedad del token correspondiente al </text>
							<italic>
								<text>micropréstamo</text>
							</italic>
							<text>. El nuevo propietario tomará los derechos del propietario anterior sobre los pagos realizados por el </text>
							<bold>
								<text>Prestatario</text>
							</bold>
							<text>. El </text>
							<bold>
								<text>Prestatario</text>
							</bold>
							<text> continuará con sus pagos, según lo definido en este acuerdo, al nuevo propietario.</text>
						</paragraph>
						<paragraph>
							<text>El token puede transferirse cualquier cantidad de veces, siempre y cuando el token y el </text>
							<italic>
								<text>micropréstamo</text>
							</italic>
							<text> correspondiente estén activos.</text>
						</paragraph>
					</body>
				</section>
			</body>
		</section>
	</humanReadableText>
</contract>