<?xml version="1.0" encoding="utf-8" ?>
<contract xmlns="urn:nf:iot:leg:sc:1.0"
          id="Membership"
          archiveOpt="P3M"
          archiveReq="P1M"
          canActAsTemplate="true"
          duration="P2Y"
          visibility="Public">
	<Create xmlns="https://paiwise.tagroot.io/Schema/NeuroFeatures.xsd">
		<TokenID>
			<Random />
		</TokenID>
		<Creator>
			<RoleReference role="Owner"/>
		</Creator>
		<Owner>
			<RoleReference role="Member"/>
		</Owner>
		<Certifier>
			<RoleReference role="Owner"/>
		</Certifier>
		<TrustProvider>
			<RoleReference role="TrustProvider"/>
		</TrustProvider>
		<Value>
			<ParameterReference parameter="Value"/>
		</Value>
		<Currency>
			<ParameterReference parameter="Currency"/>
		</Currency>
		<CommissionPercent>
			<ParameterReference parameter="CommissionPercent"/>
		</CommissionPercent>
		<Expires>
			<ParameterReference parameter="Expires"/>
		</Expires>
		<CreatorCanDestroy>
			<Boolean>true</Boolean>
		</CreatorCanDestroy>
		<OwnerCanDestroyBatch>
			<Boolean>true</Boolean>
		</OwnerCanDestroyBatch>
		<OwnerCanDestroyIndividual>
			<Boolean>true</Boolean>
		</OwnerCanDestroyIndividual>
		<CertifierCanDestroy>
			<Boolean>true</Boolean>
		</CertifierCanDestroy>
		<Definition>
			<Membership xmlns="https://lab.tagroot.io/Downloads/SimpleOrganization.xsd">
				<Layout2D xmlns="http://waher.se/Schema/Layout2D.xsd"
									width="1684px"
									height="1190px"
									background="WhiteBackground"
									pen="BlackPen"
									font="Text"
									textColor="Black">
					<SolidPen id="BlackPen" color="Black" width="1px"/>
					<SolidPen id="WhitePen" color="White" width="1px"/>
					<SolidPen id="DarkSemiTransparentPen" color="#00000080" width="3px"/>
					<SolidPen id="TransparentPen" color="#00000000" width="1px"/>
					<SolidBackground id="SemiTransparentBackground" color="#f8f8f8e0"/>
					<SolidBackground id="SemiTransparentGreenBackground" color="#e0ffe040"/>
					<SolidBackground id="SemiTransparentRedBackground" color="#ffe0e040"/>
					<SolidBackground id="TransparentBackground" color="#00000000"/>
					<SolidBackground id="WhiteBackground" color="#fffffff0"/>
					<SolidBackground id="WhiteSmokeBackground" color="WhiteSmoke"/>
					<Font id="SmallText" name="Roboto" size="12pt" color="#a0a0a0" weight="Normal"/>
					<Font id="Text" name="Roboto" size="14pt" color="Black" weight="Normal"/>
					<Font id="LargeText" name="Roboto" size="17pt" color="Black" weight="Normal"/>
					<Font id="Label" name="Roboto" size="16pt" color="Black" weight="Normal"/>
					<Font id="Value" name="Roboto" size="20pt" color="Black" weight="Bold"/>
					<Font id="Header" name="Roboto" size="24pt" color="Black" weight="Bold"/>
					<Rectangle x="0%" y="0%" x2="100%" y2="100%" pen="BlackPen" fill="WhiteSmokeBackground"/>
					<Overlays>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<ImageUrl url="https://paiwise.tagroot.io/Images/WavyBG_1684x1190.png"
												width="1684px"
												height="1190px"
												fill="WhiteBackground"
												keepAspectRatio="true"
												x="0px"
												y="0px"
												x2="1684px"
												y2="1190px"/>
						</Cell>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<Margins top="50px" left="100px" right="100px" bottom="1350px">
								<RoundedRectangle fill="SemiTransparentBackground" pen="DarkSemiTransparentPen" radiusX="50px" radiusY="50px"/>
							</Margins>
							<Margins top="100px" left="120px" right="120px" bottom="1400px">
								<Rectangle fill="TransparentBackground" pen="TransparentPen">
									<Paragraph font="LargeText" halign="Center" valign="Top">
										<Text text="Membership card"/>
									</Paragraph>
								</Rectangle>
							</Margins>
							<Margins top="50px" left="120px" right="120px" bottom="1400px">
								<Rectangle fill="TransparentBackground" pen="TransparentPen">
									<Paragraph font="Header" halign="Center" valign="Center">
										<InlineScript expression="OrgName"/>
									</Paragraph>
								</Rectangle>
							</Margins>
							<Margins top="170px" left="120px" right="120px" bottom="1350px">
								<Rectangle fill="TransparentBackground" pen="TransparentPen">
									<Paragraph font="LargeText" halign="Center" valign="Center">
										<InlineScript expression="OrgDescription"/>
									</Paragraph>
								</Rectangle>
							</Margins>
						</Cell>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<Translate translateX="200px" translateY="480px">
								<Label font="Header" halign="Center" valign="Top" text="Personal Information" x="280px" y="0px"/>
								<Label font="Label" halign="Left" valign="Top" text="Name:" x="0px" y="90px"/>
								<Label font="Label" halign="Left" valign="Top" text="Personal Number:" x="0px" y="150px"/>
								<Label font="Label" halign="Left" valign="Top" text="Address:" x="0px" y="210px"/>
								<Label font="Label" halign="Left" valign="Top" text="Country:" x="0px" y="270px"/>
								<Label font="Label" halign="Left" valign="Top" text="Expires:" x="0px" y="330px"/>
								<Script font="Value" halign="Left" valign="Top" expression="MemberName" x="350px" y="85px"/>
								<Script font="Value" halign="Left" valign="Top" expression="MemberPnr" x="350px" y="145px"/>
								<Script font="Value" halign="Left" valign="Top" expression="MemberAddress" x="350px" y="205px"/>
								<Script font="Value" halign="Left" valign="Top" expression="MemberCountry" x="350px" y="265px"/>
								<Script font="Value" halign="Left" valign="Top" expression="Expires.ToShortDateString()" x="350px" y="325px"/>
							</Translate>
						</Cell>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<Margins top="1000px" left="100px" right="475px">
								<Paragraph font="Text">
									<Text text="To "/>
									<Bold>
										<Text text="validate"/>
									</Bold>
									<Text text=" the membership card, scan the "/>
									<Italic>
										<Text text="QR Code"/>
									</Italic>
									<Text text=" to the right using the "/>
									<Bold>
										<Text text="Neuro-Access"/>
									</Bold>
									<Text text=" App, found in the "/>
									<Italic>
										<Text text="App Store"/>
									</Italic>
									<Text text=" (for iOS devices) and the "/>
									<Italic>
										<Text text="Play Store"/>
									</Italic>
									<Text text=" (for Android devices)."/>
								</Paragraph>
							</Margins>
						</Cell>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<Margins top="400px" left="1200px">
								<Rectangle fill="WhiteSmokeBackground" pen="WhitePen" width="400px" height="400px">
									<ImageInternal cid="ProfilePhoto"
																 keepAspectRatio="true"
																 x="0px"
																 y="0px"
																 x2="400px"
																 y2="400px"/>
								</Rectangle>
							</Margins>
						</Cell>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<Margins top="925px" left="1375px">
								<Rectangle fill="WhiteSmokeBackground" pen="WhitePen" width="225px" height="225px">
									<Script expression="QrEncode('nfeat:'+TokenId,'H',225)"/>
								</Rectangle>
							</Margins>
						</Cell>
						<Cell halign="Left" valign="Top" width="100%" height="100%">
							<Margins top="1165px" left="10px" right="100px">
								<Paragraph x="100px" y="100px" halign="Left" valign="Bottom" font="SmallText">
									<Text text="Membership ID: "/>
									<Text text="{TokenId}"/>
									<Text text="."/>
								</Paragraph>
							</Margins>
						</Cell>
					</Overlays>
				</Layout2D>
			</Membership>
		</Definition>
		<Tag name="OrgName">
			<ParameterReference parameter="OrganizationReference.OrgName"/>
		</Tag>
		<Tag name="OrgDescription">
			<ParameterReference parameter="OrganizationReference.OrgDescription"/>
		</Tag>
		<Tag name="MemberName">
			<ParameterReference parameter="MemberName"/>
		</Tag>
		<Tag name="MemberPnr">
			<ParameterReference parameter="MemberPnr"/>
		</Tag>
		<Tag name="MemberAddress">
			<ParameterReference parameter="MemberAddress"/>
		</Tag>
		<Tag name="MemberCountry">
			<ParameterReference parameter="MemberCountry"/>
		</Tag>
		<Tag name="ProfilePhoto">
			<ParameterReference parameter="ProfilePhoto"/>
		</Tag>
		<FriendlyName>
			<String>Membership in Simple Organization</String>
		</FriendlyName>
		<Category>
			<String>Memberships</String>
		</Category>
		<Description>
			<String>Example token used to demonstrate the creation of a token representing membership
in a simple *organization*.</String>
		</Description>
		<Glyph contentType="image/png">iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAABFFJREFUeJztWU1IMlsYfrqTFmgLIb5yEURlLQo3YVZUCi1qFUFQUKt2QURWm7IgIkhqJ9IP1EIIWkWuIugPLIh0GVFUBC5SocCkEM2/uYvv3oPDNNM43Thwv3lgYM77d57zeI7nzEwBy7Is/mD8RZsAbSgC0CZAG4oAtAnQhiIAbQK0oQhAmwBtKALQJkAbigC0CdCGIgBtArShCECbAG0oAtAmQBuKALQJ0EahkCMYDGJpaQklJSV5F43H4+jr60NHRwfPNz8/j3g8jmw2i5qaGoyMjORdHwBSqRScTicODg5wfX2N19dXqNVqVFRUoLGxET09Pejv7/+6ECsAn8/HApB9LS4u8mo+PT3x4vJFJpNh29vbJfPY2dkRrSe4BL77uSCTyfBs4+PjPNvCwoLkmqenp2AYBufn55JzHh8fRf0FQh9G3t7ecHx8jOLiYo69tLQUZrOZtLe3t/Hr1y+k02liSyaTMBqNqKqq4nZWUAAA0Gg0iMVixC5FbK/XC6vVyrE1Nzdjbm4O3d3dYBiG2O/v77G7u4vZ2VlMT0/D4XAIF857Dv5mS65oNCopx+FwkBy73c5arVbS3t/fz6tPAOzt7a2kfgOBgHhdSVVEyITD4bxzYrEYe3R0RNoGg0E0d2BggJOfTCbl0P6cl6ykPAXIHWx1dfWndV5eXiT153K55FAWri0rKU8BGhoaSLzH4yF2u91O7ENDQ5/mer3eb+0aX+HHBYhGo6ID+GpwKysrxF9fXy+Hrih+/CRos9nI/dTUFM+fe1hyOp08fygUIvcGg0Fyv3V1dWhtbYXJZBIPlKMa8pgBubHpdJrn9/v9xM8wDM9vs9mIv7e3VxZHMfzoDFhdXSX3FouFs1f/C5PJBI1GA+D34eni4oLjLysrI/eBQOA/5yh4EBJN+udAAwDhcBjl5eWfxhUVFSGZTAIAlpeX0dbWhkQiwYnRarXY2trC5uYmAKCpqQk+n4/4Dw8P0dXVRdpS6eZyFM2RPKcEppfQEri8vJT9HPHx8SHY397eXt4cReOkDVm4uJAALS0tsgUYHR3l1LJYLHlvhVLjf2QJpNNpqFQq0na73UilUoJTkWEYPD8/Y2ZmhthyY6PRKHQ6HWmr1WrEYjEUFgo+zdNdAmNjY8RvNpsl19VqtSTP7XZzfGtra7yZMjg4yPr9fl4dj8dDdwnk+s/OziTXXV9fJ3k6nY7ndzqdspaU6Fgks8tNyikeDAY5PpfL9a2ja27uZ79uKBRia2trJQ++srJStD/hRSSCiYkJqFQqvL+/816ZJRIJTE5OIpvNcrYvqXC73bi6ukI2m8XDwwPvJKfX63F3d4dIJIKNjQ2cnJzg5uYGkUgEDMNAr9fDaDSis7MTw8PD5IwhBFl/gv8n/PFvhRUBaBOgDUUA2gRoQxGANgHaUASgTYA2FAFoE6ANRQDaBGhDEYA2AdpQBKBNgDYUAWgToA1FANoEaONve9o8PVvYS2AAAAAASUVORK5CYII=</Glyph>
	</Create>
	<role name="Member" minCount="1" maxCount="1">
		<description xml:lang="en">
			<paragraph>
				<text>The part that applies for membership in the </text>
				<italic>
					<text>organization</text>
				</italic>
				<text> referred to in the contract.</text>
			</paragraph>
		</description>
	</role>
	<role name="Owner" minCount="1" maxCount="1">
		<description xml:lang="en">
			<paragraph>
				<text>The part that represents the owner of the </text>
				<italic>
					<text>organization token</text>
				</italic>
				<text> referred to in the contract.</text>
			</paragraph>
		</description>
	</role>
	<role name="TrustProvider" minCount="1" maxCount="1">
		<description xml:lang="en">
			<paragraph>
				<text>The part that acts as a host of the token and approves its creation.</text>
			</paragraph>
		</description>
	</role>
	<parts>
		<templateOnly/>
	</parts>
	<parameters>
		<contractReferenceParameter name="OrganizationReference" localName="Create"
																namespace="https://paiwise.tagroot.io/Schema/NeuroFeatures.xsd"
																required="true" guide="Organization Contract"
																templateId="30cf645d-5f3e-71e8-3479-bb9db82b33bc@legal.localhost">
			<description xml:lang="en">
				<paragraph>
					<text>A reference to the contract that created the organization token.</text>
				</paragraph>
			</description>
		</contractReferenceParameter>
		<numericalParameter name="Value" guide="Value of token" min="0" minIncluded="false">
			<description xml:lang="en">
				<paragraph>
					<text>The initial value of the token.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<stringParameter name="Currency" guide="Currency" minLength="3" maxLength="3" regEx="[A-Z]{3}">
			<description xml:lang="en">
				<paragraph>
					<text>The currency of the token.</text>
				</paragraph>
			</description>
		</stringParameter>
		<numericalParameter name="CommissionPercent" guide="Commision (%)" min="0" max="100">
			<description xml:lang="en">
				<paragraph>
					<text>The commission the Trust Provider gets for creating the token and managing the </text>
					<italic>
						<text>organization</text>
					</italic>
					<text>.</text>
				</paragraph>
			</description>
		</numericalParameter>
		<dateParameter name="Expires" guide="Expiry date" exp="Expires&gt;Now.Date">
			<description xml:lang="en">
				<paragraph>
					<text>When token expires.</text>
				</paragraph>
			</description>
		</dateParameter>
		<roleParameter index="1" name="MemberName" property="FULLNAME" role="Member" required="true">
			<description xml:lang="en">
				<paragraph>
					<text>The full name of the </text>
					<bold>
						<text>Member</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="MemberAddress" property="FULLADDR" role="Member" required="true">
			<description xml:lang="en">
				<paragraph>
					<text>The full address of the </text>
					<bold>
						<text>Member</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="MemberCountryCode" property="COUNTRY" role="Member" required="true">
			<description xml:lang="en">
				<paragraph>
					<text>The code of the country in which the </text>
					<bold>
						<text>Member</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
		</roleParameter>
		<calcParameter exp="CountryName(MemberCountryCode)" name="MemberCountry">
			<description xml:lang="en">
				<paragraph>
					<text>The country in which the </text>
					<bold>
						<text>Member</text>
					</bold>
					<text> resides.</text>
				</paragraph>
			</description>
		</calcParameter>
		<roleParameter index="1" name="MemberPnr" property="PNR" role="Member" required="true">
			<description xml:lang="en">
				<paragraph>
					<text>The personal identity number of the </text>
					<bold>
						<text>Member</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
		<roleParameter index="1" name="ProfilePhoto" property="ProfilePhoto" role="Member" required="true">
			<description xml:lang="en">
				<paragraph>
					<text>The profile photo of the </text>
					<bold>
						<text>Member</text>
					</bold>
					<text>.</text>
				</paragraph>
			</description>
		</roleParameter>
	</parameters>
	<humanReadableText xml:lang="en">
		<section>
			<header>
				<text>Membership</text>
			</header>
			<body>
				<paragraph>
					<text>This contract represents a membership in an </text>
					<italic>
						<text>organization</text>
					</italic>
					<text>. The membership is awarded to </text>
					<bold>
						<parameter name="MemberName" />
					</bold>
					<text> (with personal number </text>
					<bold>
						<parameter name="MemberPnr" />
					</bold>
					<text>), residing at </text>
					<bold>
						<parameter name="MemberAddress" />
					</bold>
					<text>, </text>
					<bold>
						<parameter name="MemberCountry" />
					</bold>
					<text>. The membership can be demonstrated by sharing the token.</text>
				</paragraph>
			</body>
		</section>
	</humanReadableText>
</contract>